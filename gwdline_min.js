(function(){"use strict";var t=[0,0,0,0],u=/[-+]?[0-9]*\.?[0-9]+%/g,v=/[-+]?[0-9]*\.?[0-9]+px/g,w=function(a,d){if(a)for(var h=d.length,l=0;l<h;l++){var b=d[l].position/100,c=d[l].value;if(void 0===c.a||null===c.a)c.a=1;a.addColorStop(b,"rgba("+c.r+","+c.g+","+c.b+","+c.a+")")}},x=function(a,d,h){return a?a=0<=a.indexOf("%")?d+parseInt(a,10)/100*(h-d):0<=a.indexOf("px")?d+parseInt(a,10):d+.5*(h-d):0};document.registerElement&&document.registerElement("gwd-line",{prototype:Object.create(HTMLCanvasElement.prototype,{attachedCallback:{value:function(){var a=this.getContext("2d");this.renderLine_(this.shapeData_,a,this.width,this.height)},enumerable:!0},attributeChangedCallback:{value:function(){},enumerable:!0},shapeData_:{get:function(){var a={};a.d=parseFloat(this.getAttribute("stroke-width"))||0;a.strokeColor=JSON.parse(this.getAttribute("stroke-color"))||t;a.e=parseFloat(this.getAttribute("x-adj"))||
0;a.f=parseFloat(this.getAttribute("y-adj"))||0;var d=this.getAttribute("slope")||"0";a.c=isNaN(parseFloat(d))?d:parseFloat(d);return a},enumerable:!0},renderLine_:{value:function(a,d,h,l){var b,c,e,k=a.strokeColor,y=a.c,z=a.e,A=a.f;d.beginPath();d.lineWidth=a.d;if(k){if(k.gradientMode)if(a=[[0,0,0],[0,l-0,0],[h-0,l-0,0],[h-0,0,0]],"radial"==k.gradientMode){(b=k.h)||(b="center");e=c="center";var g=b.match(u);b=b.match(v);g&&1<g.length?(c=g[0],e=g[1]):b&&1<b.length&&(c=b[0],e=b[1]);c=x(c,a[0][0],a[3][0]);
e=x(e,a[0][1],a[1][1]);g=k.shape;b=[.5*(a[0][0]+a[2][0]),.5*(a[0][0]+a[2][0])];var f=c<b[0]?a[2][0]:a[0][0];b=e<b[1]?a[1][1]:a[0][1];f=Math.abs(c-f);b=Math.abs(e-b);var p=a[3][0]-a[0][0];a=a[1][1]-a[0][1];.001<Math.abs(p)&&(a/=p,f=Math.sqrt(f*f+b*b/(a*a)),b=a*f);a=f;g&&"farthest-corner"!=g&&(g=g.match(v))&&1<g.length&&(a=parseFloat(g[0]),b=parseFloat(g[1]));p=Math.max(a,b);g=document.createElement("canvas");g.width=h;g.height=l;f=g.getContext("2d");p=f.createRadialGradient(c,e,0,c,e,p);w(p,k.color);
f.rect(0,0,h,l);var q;b<a?(k=1,q=b/a):(q=1,k=a/b);f.save();f.transform(k,0,0,q,k*-c+c,q*-e+e);f.fillStyle=p;f.fill();f.restore();k=f.createPattern(g,"no-repeat")}else{c=0;k.orientation&&(c=parseFloat(k.orientation)*Math.PI/180);isFinite(c)&&!isNaN(c)||(c=0);f=-1*c;c=[];g=[];e=[.5*(a[0][0]+a[2][0]),.5*(a[0][1]+a[2][1])];b=Math.tan(f);if(.001>Math.abs(Math.tan(.5*Math.PI-.001)-b))g=0<=Math.sin(f)?1:-1,a=.5*(a[2][1]-a[0][1]),c=[e[0],e[1]-g*a],g=[e[0],e[1]+g*a];else{f=0<=Math.cos(f)?1:-1;f=[f,f*b];p=
Infinity;q=-Infinity;for(var r=0;4>r;r++){var m,n=[a[r][0]-e[0],a[r][1]-e[1]],n=b*n[1]+n[0],n=n/(1+b*b);m=[n,n*b];n=(0<f[0]*m[0]+f[1]*m[1]?1:-1)*Math.sqrt(m[0]*m[0]+m[1]*m[1]);m=[m[0]+e[0],m[1]+e[1]];n<p&&(c=m,p=n);n>q&&(g=m,q=n)}}a=d.createLinearGradient(c[0],c[1],g[0],g[1]);w(a,k.color);k=a}else k="rgba("+Math.floor(255*k[0])+","+Math.floor(255*k[1])+","+Math.floor(255*k[2])+","+k[3]+")";d.strokeStyle=k;h=this.getLineEndPoints_(y,h,l,z,A);d.moveTo(h.start.x,h.start.y);d.lineTo(h.end.x,h.end.y);
d.stroke()}}},getLineEndPoints_:{value:function(a,d,h,l,b){var c=[],e=[];switch(a){case "vertical":c=[.5*d,0];e=[.5*d,h];break;case "horizontal":c=[0,.5*h];e=[d,.5*h];break;default:0<a?(c=[l,b],e=[d-l,h-b]):(c=[l,h-b],e=[d-l,b])}return{start:{x:c[0],y:c[1]},end:{x:e[0],y:e[1]}}}}}),"extends":"canvas"});})()
